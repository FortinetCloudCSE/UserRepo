<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.107.0">
    <meta name="generator" content="Relearn 5.12.6+tip">
    <meta name="description" content="Hugo web framework for Fortinet Demos">
    <meta name="author" content="Jeff Kopko">
    <title>Task 3 - Run Container - Hugo web framework for Fortinet Demos</title>
    <link href="../01gettingstarted/containerrun/index.xml" rel="alternate" type="application/rss+xml" title="Task 3 - Run Container - Hugo web framework for Fortinet Demos"><link rel="icon" href="https://www.fortinet.com/etc/designs/fortinet/favicon.ico" type="image/x-icon" />

    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="../css/fontawesome-all.min.css?1684512304" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../css/fontawesome-all.min.css?1684512304" rel="stylesheet"></noscript>
    <link href="../css/nucleus.css?1684512304" rel="stylesheet">
    <link href="../css/auto-complete.css?1684512304" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../css/auto-complete.css?1684512304" rel="stylesheet"></noscript>
    <link href="../css/perfect-scrollbar.min.css?1684512304" rel="stylesheet">
    <link href="../css/fonts.css?1684512304" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../css/fonts.css?1684512304" rel="stylesheet"></noscript>
    <link href="../css/theme.css?1684512304" rel="stylesheet">
    <link href="../css/theme-Fortinet.css?1684512304" rel="stylesheet" id="variant-style">
    <link href="../css/variant.css?1684512304" rel="stylesheet">
    <link href="../css/print.css?1684512304" rel="stylesheet" media="print">
    <link href="../css/ie.css?1684512304" rel="stylesheet">
    <script src="../js/url.js?1684512304"></script>
    <script src="../js/variant.js?1684512304"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_json_url="../index.json";
      window.index_js_url="../index.search.js";
      var root_url="../";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/fortinetcloudcse.github.io\/UserRepo/';
      window.variants && variants.init( [ 'Fortinet' ] );
    </script><style>
    @media screen and (min-width: 1300px) {

         
        #body .flex-block-wrapper {
            margin-left: auto;
            margin-right: auto;
            max-width: 1300px;
            width: 100%;
        }
    }
</style>
  </head>
  <body class="mobile-support html" data-url="../01gettingstarted/containerrun.html">
    <div id="body" class="default-animation">
      <div id="sidebar-overlay"></div>
      <div id="toc-overlay"></div>
      <nav id="topbar" class="highlightable">
        <div>
          <div class="navigation">
            <a class="nav nav-next topbar-link" href="../01gettingstarted/localhugoinstall.html" title="Optional - Install Hugo (&#129106;)"><i class="fas fa-chevron-right fa-fw"></i></a>
          </div>
          <div class="navigation">
            <a class="nav nav-prev topbar-link" href="../01gettingstarted/containerbuild.html" title="Task 2 - Container build (&#129104;)"><i class="fas fa-chevron-left fa-fw"></i></a>
          </div>
          <div id="breadcrumbs">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" class="topbar-link" title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a>
            </span>
            <span id="toc-menu" title='Table of Contents (CTRL+ALT+t)'><i class="fas fa-list-alt fa-fw"></i></span>
            <ol class="links" itemscope itemtype="http://schema.org/BreadcrumbList">
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="../index.html"><span itemprop="name">Fortinet TECWorkshop Template - MVP1</span></a><meta itemprop="position" content="1"> > </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="../01gettingstarted.html"><span itemprop="name">Ch 1 Getting Started with Repos, Containers, and Hugo</span></a><meta itemprop="position" content="2"> > </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Task 3 - Run Container</span><meta itemprop="position" content="3"></li>
            </ol>
          </div>
          <div class="default-animation progress">
            <div class="toc-wrapper"><nav id="TableOfContents">
  <ul>
    <li><a href="#task-3-run-fortinethugo-container">Task 3: Run FortinetHugo container</a>
      <ul>
        <li><a href="#notes">Notes:</a></li>
        <li><a href="#useful-docker-commands-to-know">Useful Docker Commands to Know</a></li>
      </ul>
    </li>
  </ul>
</nav>
            </div>
          </div>
        </div>
      </nav>
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <div id="head-tags">
          </div>
          <article class="default">
<h1 id="task-3---run-container">Task 3 - Run Container</h1>

<h2 id="task-3-run-fortinethugo-container">Task 3: Run FortinetHugo container</h2>
<ul>
<li>
<p>Run the container with local disk mounts so you review your markdown TECWorkshop Guide as you&rsquo;re creating the content (repeat this procedure for any TECWorkshop you&rsquo;re creating)

<div class="box notices cstyle tip">
  <div class="box-label"><i class="fa-fw fas fa-lightbulb"></i> Tip</div>
  <div class="box-content">
<p>The Full commands and explanation for running your pre-build docker are listed below.  We&rsquo;ve also included a shell script in this repo to run your container image
<code>./scripts/docker_run.sh</code></p>
  </div>
</div></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">  docker run --rm -it -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/content/:/home/CentralRepo/content -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/config.toml:/home/CentralRepo/config.toml -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/docs:/home/CentralRepo/public  -p 1313:1313 fortinet-hugo:latest
</span></span></code></pre></div><ul>
<li>&lsquo;-rm&rsquo; flag removes the container after it&rsquo;s closed&hellip;freeing up resources</li>
<li>&lsquo;-it&rsquo; flag provides an interactive prompt into the Container</li>
<li>&lsquo;-v&rsquo; flag creates a disk mount to the local file system available within the container OS</li>
<li>&lsquo;-p&rsquo; publishes container ports to the local OS (used to view the local Hugo Webserver)</li>
</ul>
</li>
<li>
<p>the above command runs the container and logs you into the container Ubuntu OS CLI (most Linux commands will work)</p>
<ul>
<li>
<p>Note the $(pwd) in Container OS, and list files.  You&rsquo;ll see you have everything needed to create your Hugo site!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">pwd</span>
</span></span><span class="line"><span class="cl">ls -la 
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<p>Run Hugo virtual server to get a live view of Hugo&rsquo;s output</p>
<pre tabindex="0"><code>hugo server --bind 0.0.0.0
</code></pre><p>In your local machine, browse to http://localhost:1313/UserRepo</p>
<p>You&rsquo;ll see a template hugo site served by Hugo&rsquo;s local webserver.  Now you&rsquo;re ready to proceed building your <a href="../02hugo.html">TECWorkshop content</a> in the next chapter!</p>
</li>
<li>
<p>To exit out of the Container OS: use &rsquo;exit&rsquo; or <strong>CTRL+d</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">exit</span>
</span></span></code></pre></div></li>
</ul>
<hr>

<div class="box notices cstyle tip">
  <div class="box-label"><i class="fa-fw fas fa-lightbulb"></i> Tip</div>
  <div class="box-content">
<p>We&rsquo;re including some helpful docker commands here for reference.  Use these if you&rsquo;ve built LOTS of images and you need to get rid of the mess</p>
  </div>
</div>
<h3 id="notes">Notes:</h3>
<ul>
<li>
<p>Inside the container, <a href="https://github.com/FortinetCloudCSE/CentralRepo" target="_blank">Central Repo</a> (which is where we&rsquo;ll make any template changes) is cloned and integrated with your repo.</p>
</li>
<li>
<p>Container (ideally) displays local version of Hugo site updating near real time as you create content</p>
</li>
<li>
<p>To run a container interactively (for troubleshooting or to see how they function)</p>
<ul>
<li>Comment out any offending lines in the dockerfile</li>
<li>Build again using commands above.</li>
<li>to run the container interactively use the &lsquo;-it&rsquo; flag:</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">  docker run --rm -it fortinet-hugo:latest
</span></span></code></pre></div></li>
<li>
<p>Container outputs /public folder which is the result from &ldquo;Hugo build&rdquo;</p>
<ul>
<li>This /public(/docs) folder can be hosted anywhere.  We&rsquo;ll still use GH Pages to host the actual page.</li>
</ul>
</li>
</ul>
<h3 id="useful-docker-commands-to-know">Useful Docker Commands to Know</h3>
<pre tabindex="0"><code>docker images                                           #List all images
docker ps -a                                            #List all containers, both running and stopped
docker rmi &lt;image-id&gt;                                   #Remove an image
docker rmi $(docker images -aq)                         #Remove all images
docker rmi $(docker images -filter dangling=true -aq)   #Remove all images with tag &lt;none&gt;
docker rm &lt;container-id&gt;                                #Remove a container
docker rm $(docker ps -aq)                              #Remove all containers
docker builder prune                                    #Remove build cache
</code></pre><p>When running any of the above commands, if you get an error message indicating an image or container is being used or referenced in another image or container, you can issue the &lsquo;-f&rsquo; flag to force remove.</p>

            <footer class="footline">
            </footer>
          </article>
        </div>
      </main>
    </div>
    <aside id="sidebar" class="default-animation showVisitedLinks">
      <div id="header-wrapper" class="default-animation">
        <div id="header" class="default-animation">
<a href="../" title="Fortinet Demos"><img style="vertical-align:middle" src="../Fortinet-logo-rgb-white-red.svg" height="70px"></a>
        </div>
        <form action="../search.html" method="get"><div class="searchbox default-animation">
          <button type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
          <label class="a11y-only" for="search-by">Search</label>
          <input data-search-input id="search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
          <span data-search-clear=""><i class="fas fa-times"></i></span>
        </div></form>
        <script>
          var contentLangs=['en'];
        </script>
        <script src="../js/auto-complete.js?1684512304" defer></script>
        <script src="../js/lunr/lunr.min.js?1684512304" defer></script>
        <script src="../js/lunr/lunr.stemmer.support.min.js?1684512304" defer></script>
        <script src="../js/lunr/lunr.multi.min.js?1684512304" defer></script>
        <script src="../js/lunr/lunr.en.min.js?1684512304" defer></script>
        <script src="../js/search.js?1684512304" defer></script>
      </div>
      <div id="homelinks" class="default-animation">
        <ul>
          <li><a class="padding" href="../index.html"><i class="fas fa-home"></i> Home</a></li>
        </ul>
      </div>
      <div id="content-wrapper" class="highlightable">
        <ul class="topics enlarge morespace collapsible-menu">
          <li data-nav-id="/01gettingstarted.html" class="parent "><input type="checkbox" id="section-ed9604ea64d744c093d543113484d030" aria-controls="subsections-ed9604ea64d744c093d543113484d030" checked><label for="section-ed9604ea64d744c093d543113484d030"><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class="a11y-only">Submenu Ch 1: Setup</span></label><a class="padding" href="../01gettingstarted.html">Ch 1: Setup<i class="fas fa-check read-icon"></i></a><ul id="subsections-ed9604ea64d744c093d543113484d030" class="morespace collapsible-menu">
          <li data-nav-id="/01gettingstarted/userrepo.html" class=""><a class="padding" href="../01gettingstarted/userrepo.html">User Repo<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/01gettingstarted/containerbuild.html" class=""><a class="padding" href="../01gettingstarted/containerbuild.html">Container Build<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/01gettingstarted/containerrun.html" class="active"><a class="padding" href="../01gettingstarted/containerrun.html">Run Container<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/01gettingstarted/localhugoinstall.html" class=""><a class="padding" href="../01gettingstarted/localhugoinstall.html">Optional Install Hugo<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/02hugo.html" class=""><input type="checkbox" id="section-ee51f8b6417b1b7436e0731885132372" aria-controls="subsections-ee51f8b6417b1b7436e0731885132372"><label for="section-ee51f8b6417b1b7436e0731885132372"><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class="a11y-only">Submenu Ch 2: Hugo Content</span></label><a class="padding" href="../02hugo.html">Ch 2: Hugo Content<i class="fas fa-check read-icon"></i></a><ul id="subsections-ee51f8b6417b1b7436e0731885132372" class="morespace collapsible-menu">
          <li data-nav-id="/02hugo/2_task1.html" class=""><a class="padding" href="../02hugo/2_task1.html">Directories<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/02hugo/3_task2.html" class=""><a class="padding" href="../02hugo/3_task2.html">MD Pages<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/02hugo/4_task3.html" class=""><a class="padding" href="../02hugo/4_task3.html">Site Frontmatter<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/02hugo/images.html" class=""><a class="padding" href="../02hugo/images.html">Images<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/03chapter3.html" class=""><input type="checkbox" id="section-3b9afd005e5607fd2ea5f93bc999e00a" aria-controls="subsections-3b9afd005e5607fd2ea5f93bc999e00a"><label for="section-3b9afd005e5607fd2ea5f93bc999e00a"><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class="a11y-only">Submenu Ch 3: Publish</span></label><a class="padding" href="../03chapter3.html">Ch 3: Publish<i class="fas fa-check read-icon"></i></a><ul id="subsections-3b9afd005e5607fd2ea5f93bc999e00a" class="morespace collapsible-menu">
          <li data-nav-id="/03chapter3/2_task1.html" class=""><a class="padding" href="../03chapter3/2_task1.html">Hugo Build<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/03chapter3/3_task2.html" class=""><a class="padding" href="../03chapter3/3_task2.html">Git push<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/03chapter3/gitflow.html" class=""><a class="padding" href="../03chapter3/gitflow.html">GitFlow<i class="fas fa-check read-icon"></i></a></li></ul></li>
        </ul>
        <div id="shortcuts">
          <div class="nav-title padding">Helpful Resources</div>
          <ul class="space">
            <li><a class="padding" href="https://github.com/FortinetCloudCSE"><i class='fas fa-graduation-cap'></i> Fortinet Cloud CSE GitHub Org</a></li>
            <li><a class="padding" href="https://fortinetcloudcse.github.io/UserRepo"><i class='fas fa-tools'></i>Fortinet Standard Workshop Guide</a></li>
            <li><a class="padding" href="https://github.com/FortinetCloudCSE/UserRepo"><i class='fas fa-tools'></i>Fortinet Standard Workshop Template Repo</a></li>
            <li><a class="padding" href="https://mcshelby.github.io/hugo-theme-relearn/index.html"><i class='fas fa-tools'></i> Hugo reLearn theme - Guide</a></li>
            <li><a class="padding" href="https://aws-samples.github.io/aws-modernization-workshop-sample/"><i class='fas fa-graduation-cap'></i> AWS Sample Workshop</a></li>
          </ul>
        </div>
        <div class="padding footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVisitedLinks showFooter"></div>
        <hr class="padding default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVisitedLinks showFooter">
        <div id="prefooter" class="footerLangSwitch footerVariantSwitch footerVisitedLinks showVisitedLinks">
          <ul>
            <li id="select-language-container" class="footerLangSwitch">
              <div class="padding select-container">
                <i class="fas fa-language fa-fw"></i>
                <span>&nbsp;</span>
                <div class="select-style">
                  <label class="a11y-only" for="select-language">Language</label>
                  <select id="select-language" onchange="location = baseUri + this.value;">
                  </select>
                </div>
                <div class="select-clear"></div>
              </div>
            </li>
            <li id="select-variant-container" class="footerVariantSwitch">
              <div class="padding select-container">
                <i class="fas fa-paint-brush fa-fw"></i>
                <span>&nbsp;</span>
                <div class="select-style">
                  <label class="a11y-only" for="select-variant">Theme</label>
                  <select id="select-variant" onchange="window.variants && variants.changeVariant( this.value );">
                    <option id="Fortinet" value="Fortinet" selected>Fortinet</option>
                  </select>
                </div>
                <div class="select-clear"></div>
              </div>
              <script>window.variants && variants.markSelectedVariant();</script>
            </li>
            <li class="footerVisitedLinks showVisitedLinks"><button class="padding" onclick="clearHistory();"><i class="fas fa-history fa-fw"></i><span>&nbsp;</span>Clear History</button></li>
          </ul>
        </div>
        <div id="footer" class="footerFooter showFooter">          <style>
            #footer {
              font-size: .8125rem;
              height: 6.25rem;
              margin-left: auto;
              margin-right: auto;
              padding: 2rem 1rem;
              text-align: center;
              min-width: 14.375rem;
              max-width: 18.75rem;
            }
            #footer p {
              margin: 0;
            }
          </style>

<left>

    <a href="https://www.fortinet.com/corporate/about-us/privacy" target="_blank" rel="noreferrer noopener">Privacy</a> | <a
        href="https://www.fortinet.com/corporate/about-us/legal" target="_blank" rel="noreferrer noopener">Site Terms</a> | <a
        href="https://www.fortinet.com/corporate/about-us/about-us" target="_blank" rel="noreferrer noopener">About Us</a>

</left>
        </div>
      </div>
    </aside>
    <script src="../js/clipboard.min.js?1684512304" defer></script>
    <script src="../js/perfect-scrollbar.min.js?1684512304" defer></script>
    <script src="../js/theme.js?1684512304" defer></script>
  </body>
</html>
